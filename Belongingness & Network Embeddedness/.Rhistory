surv_4 <- temp_night %>%
filter(survnum == 4) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates4 <- surv_4 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_4 <- surv_4 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
#Surv 5
surv_5 <- temp_night %>%
filter(survnum == 5) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates5 <- surv_5 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_5 <- surv_5 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
day <- list(sur1 = surv_1,
sur2 = surv_2,
sur3 = surv_3,
sur4 = surv_4,
sur5 = surv_5,
iso1 = isolates1,
iso2 = isolates2,
iso3 = isolates3,
iso4 = isolates4,
iso5 = isolates5)
rm(surv_1);rm(surv_2);rm(surv_3);rm(surv_4);rm(surv_5)
rm(isolates1);rm(isolates2);rm(isolates3);rm(isolates4);rm(isolates5)
rm(temp_night)
sur1 <- as.matrix(day$sur1)
View(sur1)
sur1 <- as.matrix(day$sur1) %>% arrange(Sender_Final_ID)
arrange(sur1$Sender_Final_ID)
arrange(V(g)$Sender_Final_ID)
sur1 <- as.matrix(day$sur1)
sur2 <- as.matrix(day$sur2)
sur3 <- as.matrix(day$sur3)
sur4 <- as.matrix(day$sur4)
sur5 <- as.matrix(day$sur5)
# Convert friends matrix to an igraph object
g1 <- graph.edgelist(sur1, directed = TRUE)
g2 <- graph.edgelist(sur2, directed = TRUE)
g3 <- graph.edgelist(sur3, directed = TRUE)
g4 <- graph.edgelist(sur4, directed = TRUE)
g5 <- graph.edgelist(sur5, directed = TRUE)
g1 <- g1 + vertices(day$iso1$Sender_Final_ID) # add isolates
g2 <- g2 + vertices(day$iso2$Sender_Final_ID) # add isolates
g3 <- g3 + vertices(day$iso3$Sender_Final_ID) # add isolates
g4 <- g4 + vertices(day$iso4$Sender_Final_ID) # add isolates
g5 <- g5 + vertices(day$iso5$Sender_Final_ID) # add isolates
arrange(V(g1)$Sender_Final_ID)
V(g1)
View(att)
View(sur1)
g1 <- set_vertex_attr(g1, att$staff, value = staff)
g1 <- set_vertex_attr(g1, staff, value = att$staff)
g1 <- set_vertex_attr(g1, "staff", value = att$staff)
V(g1)
V(g1)[[1:5]]
g1 <- set_vertex_attr(g1, "staff", value = att$staff)
V(g1)$color <- ifelse(V(g1)$staff == 0, "orange", "dodgerblue")
plot(g1)
g1 <- set_vertex_attr(g1, "staff", value = att$staff)
V(g1)$color <- ifelse(V(g1)$staff == 1, "orange", "dodgerblue")
plot(g1)
V(g1)[[1:69]]
View(day)
day[["iso2"]]
View(day[["iso1"]])
?order
order(V(g1$name))
order(V(g1))
order(V(g1)[[1]])
order(V(g1)[[name]])
g1 <- order(V(g1)[[name]])
sur1 <- as.matrix(day$sur1)
sur2 <- as.matrix(day$sur2)
sur3 <- as.matrix(day$sur3)
sur4 <- as.matrix(day$sur4)
sur5 <- as.matrix(day$sur5)
# Convert friends matrix to an igraph object
g1 <- graph.edgelist(sur1, directed = TRUE)
g2 <- graph.edgelist(sur2, directed = TRUE)
g3 <- graph.edgelist(sur3, directed = TRUE)
g4 <- graph.edgelist(sur4, directed = TRUE)
g5 <- graph.edgelist(sur5, directed = TRUE)
g1 <- g1 + vertices(day$iso1$Sender_Final_ID) # add isolates
g1 <- set_vertex_attr(g1, "staff", value = att$staff)
V(g1)$color <- ifelse(V(g1)$staff == 1, "orange", "dodgerblue")
plot(g1)
V(g1)[[1:69]]
temp_night <- temp %>% filter(night == "monday")
#Surv_1
surv_1 <- temp_night %>%
filter(survnum == 1) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) %>%
arrange(Sender_Final_ID)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID)
select(Sender_Final_ID, staff)
temp_night <- temp %>% filter(night == "monday")
#Surv_1
surv_1 <- temp_night %>%
filter(survnum == 1) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) %>%
arrange(Sender_Final_ID)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
View(surv_1)
View(isolates1)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = staff) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = mean(staff) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
View(isolates1)
View(isolates1)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = mean(staff)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
View(isolates1)
View(isolates1)
temp_night <- temp %>% filter(night == "monday")
#Surv_1
surv_1 <- temp_night %>%
filter(survnum == 1) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) %>%
arrange(Sender_Final_ID)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = mean(staff)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
att1 <- isolates1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
isolates1 <- isolates_1 %>% isolates1 %>%
select(Sender_Final_ID)
temp_night <- temp %>% filter(night == "monday")
#Surv_1
surv_1 <- temp_night %>%
filter(survnum == 1) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) %>%
arrange(Sender_Final_ID)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = mean(staff)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
att1 <- isolates1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
isolates1 <- isolates1 %>%
select(Sender_Final_ID)
surv_1 <- surv_1 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID))) %>% arange(Sender_Final_ID)
temp_night <- temp %>% filter(night == "monday")
#Surv_1
surv_1 <- temp_night %>%
filter(survnum == 1) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) %>%
arrange(Sender_Final_ID)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = mean(staff)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
att1 <- isolates1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
isolates1 <- isolates1 %>%
select(Sender_Final_ID)
surv_1 <- surv_1 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID))) %>% arrange(Sender_Final_ID)
temp_night <- temp %>% filter(night == "monday")
#Surv_1
surv_1 <- temp_night %>%
filter(survnum == 1) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) %>%
arrange(Sender_Final_ID)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = mean(staff)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
att1 <- isolates1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
isolates1 <- isolates1 %>%
select(Sender_Final_ID)
surv_1 <- surv_1 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID))) %>% arrange(Sender_Final_ID)
att2 <- surv_1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID)
temp_night <- temp %>% filter(night == "monday")
#Surv_1
surv_1 <- temp_night %>%
filter(survnum == 1) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) %>%
arrange(Sender_Final_ID)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = mean(staff)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
att1 <- isolates1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
isolates1 <- isolates1 %>%
select(Sender_Final_ID)
surv_1 <- surv_1 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID))) %>% arrange(Sender_Final_ID)
att2 <- surv_1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
temp_night <- temp %>% filter(night == "monday")
#Surv_1
surv_1 <- temp_night %>%
filter(survnum == 1) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) %>%
arrange(Sender_Final_ID)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = mean(staff)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
att1 <- isolates1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
isolates1 <- isolates1 %>%
select(Sender_Final_ID)
surv_1 <- surv_1 %>%
select(Sender_Final_ID, Receiver_Final_ID, staff) %>% filter(!(is.na(Receiver_Final_ID))) %>% arrange(Sender_Final_ID)
att2 <- surv_1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
surv_1 <- surv_1 %>%
select(-staff)
att <- rbind(att1, att2)
#Surv 2
surv_2 <- temp_night %>%
filter(survnum == 2) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates2 <- surv_2 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_2 <- surv_2 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
#Surv 3
surv_3 <- temp_night %>%
filter(survnum == 3) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates3 <- surv_3 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_3 <- surv_3 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
#Surv 4
surv_4 <- temp_night %>%
filter(survnum == 4) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates4 <- surv_4 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_4 <- surv_4 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
#Surv 5
surv_5 <- temp_night %>%
filter(survnum == 5) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates5 <- surv_5 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_5 <- surv_5 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
day <- list(sur1 = surv_1,
sur2 = surv_2,
sur3 = surv_3,
sur4 = surv_4,
sur5 = surv_5,
iso1 = isolates1,
iso2 = isolates2,
iso3 = isolates3,
iso4 = isolates4,
iso5 = isolates5)
rm(surv_1);rm(surv_2);rm(surv_3);rm(surv_4);rm(surv_5)
rm(isolates1);rm(isolates2);rm(isolates3);rm(isolates4);rm(isolates5)
rm(temp_night)
sur1 <- as.matrix(day$sur1)
sur2 <- as.matrix(day$sur2)
sur3 <- as.matrix(day$sur3)
sur4 <- as.matrix(day$sur4)
sur5 <- as.matrix(day$sur5)
# Convert friends matrix to an igraph object
g1 <- graph.edgelist(sur1, directed = TRUE)
g2 <- graph.edgelist(sur2, directed = TRUE)
g3 <- graph.edgelist(sur3, directed = TRUE)
g4 <- graph.edgelist(sur4, directed = TRUE)
g5 <- graph.edgelist(sur5, directed = TRUE)
g1 <- g1 + vertices(day$iso1$Sender_Final_ID) # add isolates
g2 <- g2 + vertices(day$iso2$Sender_Final_ID) # add isolates
g3 <- g3 + vertices(day$iso3$Sender_Final_ID) # add isolates
g4 <- g4 + vertices(day$iso4$Sender_Final_ID) # add isolates
g5 <- g5 + vertices(day$iso5$Sender_Final_ID) # add isolates
g1 <- set_vertex_attr(g1, "staff", value = att$staff)
V(g1)$color <- ifelse(V(g1)$staff == 1, "orange", "dodgerblue")
plot(g1)
V(g1)[[1:69]]
temp_night <- temp %>% filter(night == "monday")
#Surv_1
surv_1 <- temp_night %>%
filter(survnum == 1) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) %>%
arrange(Sender_Final_ID)
#Getting isolates
isolates1 <- surv_1 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1), staff = mean(staff)) %>%
filter(isolate < 1) %>%
arrange(Sender_Final_ID) %>%
select(Sender_Final_ID, staff)
att1 <- isolates1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
isolates1 <- isolates1 %>%
select(Sender_Final_ID)
surv_1 <- surv_1 %>%
select(Sender_Final_ID, Receiver_Final_ID, staff) %>% filter(!(is.na(Receiver_Final_ID))) %>% arrange(Sender_Final_ID)
att2 <- surv_1 %>%
select(Sender_Final_ID, staff) %>%
unique() %>%
arrange(Sender_Final_ID) %>%
select(staff)
surv_1 <- surv_1 %>%
select(-staff)
att <- rbind(att2, att1)
#Surv 2
surv_2 <- temp_night %>%
filter(survnum == 2) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates2 <- surv_2 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_2 <- surv_2 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
#Surv 3
surv_3 <- temp_night %>%
filter(survnum == 3) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates3 <- surv_3 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_3 <- surv_3 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
#Surv 4
surv_4 <- temp_night %>%
filter(survnum == 4) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates4 <- surv_4 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_4 <- surv_4 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
#Surv 5
surv_5 <- temp_night %>%
filter(survnum == 5) %>%
mutate(Receiver_Final_ID = ifelse(is.na(sn1), NA, Receiver_Final_ID)) #%>%
#Getting isolates
isolates5 <- surv_5 %>%
mutate(sn1 = ifelse(is.na(sn1), 0, sn1)) %>%
group_by(Sender_Final_ID) %>%
summarize(isolate = sum(sn1)) %>%
filter(isolate < 1) %>%
select(Sender_Final_ID)
surv_5 <- surv_5 %>%
select(Sender_Final_ID, Receiver_Final_ID) %>% filter(!(is.na(Receiver_Final_ID)))
day <- list(sur1 = surv_1,
sur2 = surv_2,
sur3 = surv_3,
sur4 = surv_4,
sur5 = surv_5,
iso1 = isolates1,
iso2 = isolates2,
iso3 = isolates3,
iso4 = isolates4,
iso5 = isolates5)
rm(surv_1);rm(surv_2);rm(surv_3);rm(surv_4);rm(surv_5)
rm(isolates1);rm(isolates2);rm(isolates3);rm(isolates4);rm(isolates5)
rm(temp_night)
sur1 <- as.matrix(day$sur1)
sur2 <- as.matrix(day$sur2)
sur3 <- as.matrix(day$sur3)
sur4 <- as.matrix(day$sur4)
sur5 <- as.matrix(day$sur5)
# Convert friends matrix to an igraph object
g1 <- graph.edgelist(sur1, directed = TRUE)
g2 <- graph.edgelist(sur2, directed = TRUE)
g3 <- graph.edgelist(sur3, directed = TRUE)
g4 <- graph.edgelist(sur4, directed = TRUE)
g5 <- graph.edgelist(sur5, directed = TRUE)
g1 <- g1 + vertices(day$iso1$Sender_Final_ID) # add isolates
g2 <- g2 + vertices(day$iso2$Sender_Final_ID) # add isolates
g3 <- g3 + vertices(day$iso3$Sender_Final_ID) # add isolates
g4 <- g4 + vertices(day$iso4$Sender_Final_ID) # add isolates
g5 <- g5 + vertices(day$iso5$Sender_Final_ID) # add isolates
g1 <- set_vertex_attr(g1, "staff", value = att$staff)
V(g1)$color <- ifelse(V(g1)$staff == 1, "orange", "dodgerblue")
plot(g1)
V(g1)[[1:69]]
