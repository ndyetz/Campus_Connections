plot(wednesday$surv3, main = "week 6 - Wednesday")
plot(thursday$surv3, main =  "week 6 -Thursday")
#par(mfrow=c(4,1))
plot(monday$surv4, main =    "week 9 - Monday")
plot(tuesday$surv4, main =   "week 9 - Tuesday")
plot(wednesday$surv4, main = "week 9 - Wednesday")
plot(thursday$surv4, main =  "week 9 -Thursday")
#par(mfrow=c(4,1))
plot(monday$surv5, main =    "week 11 - Monday")
plot(tuesday$surv5, main =   "week 11 - Tuesday")
plot(wednesday$surv5, main = "week 11 - Wednesday")
plot(thursday$surv5, main =  "week 11 -Thursday")
F16 <- list(monday = monday, tuesday = tuesday, wednesday = wednesday, thursday = thursday)
rm(monday);rm(tuesday);rm(wednesday);rm(thursday)
rm(lc1)
#Monday
g1 <- ALL$S17$monday$graphs$g1
g2 <- ALL$S17$monday$graphs$g2
g3 <- ALL$S17$monday$graphs$g3
g4 <- ALL$S17$monday$graphs$g4
g5 <- ALL$S17$monday$graphs$g5
lc1 <- largest_cliques(g1)
gs1 <- as.undirected(induced.subgraph(g1, lc1[[1]]))
lc1 <- largest_cliques(g2)
gs2 <- as.undirected(induced.subgraph(g2, lc1[[1]]))
lc1 <- largest_cliques(g3)
gs3 <- as.undirected(induced.subgraph(g3, lc1[[1]]))
lc1 <- largest_cliques(g4)
gs4 <- as.undirected(induced.subgraph(g4, lc1[[1]]))
lc1 <- largest_cliques(g5)
gs5 <- as.undirected(induced.subgraph(g5, lc1[[1]]))
monday <- list(surv1 = gs1, surv2 = gs2, surv3 = gs3, surv4 = gs4, surv5 = gs5)
rm(g1);rm(g2);rm(g3);rm(g4);rm(g5);
rm(gs1);rm(gs2);rm(gs3);rm(gs4);rm(gs5)
#Tuesday
g1 <- ALL$S17$tuesday$graphs$g1
g2 <- ALL$S17$tuesday$graphs$g2
g3 <- ALL$S17$tuesday$graphs$g3
g4 <- ALL$S17$tuesday$graphs$g4
g5 <- ALL$S17$tuesday$graphs$g5
lc1 <- largest_cliques(g1)
gs1 <- as.undirected(induced.subgraph(g1, lc1[[1]]))
lc1 <- largest_cliques(g2)
gs2 <- as.undirected(induced.subgraph(g2, lc1[[1]]))
lc1 <- largest_cliques(g3)
gs3 <- as.undirected(induced.subgraph(g3, lc1[[1]]))
lc1 <- largest_cliques(g4)
gs4 <- as.undirected(induced.subgraph(g4, lc1[[1]]))
lc1 <- largest_cliques(g5)
gs5 <- as.undirected(induced.subgraph(g5, lc1[[1]]))
tuesday <- list(surv1 = gs1, surv2 = gs2, surv3 = gs3, surv4 = gs4, surv5 = gs5)
rm(g1);rm(g2);rm(g3);rm(g4);rm(g5);
rm(gs1);rm(gs2);rm(gs3);rm(gs4);rm(gs5)
#Wednesday
g1 <- ALL$S17$wednesday$graphs$g1
g2 <- ALL$S17$wednesday$graphs$g2
g3 <- ALL$S17$wednesday$graphs$g3
g4 <- ALL$S17$wednesday$graphs$g4
g5 <- ALL$S17$wednesday$graphs$g5
lc1 <- largest_cliques(g1)
gs1 <- as.undirected(induced.subgraph(g1, lc1[[1]]))
lc1 <- largest_cliques(g2)
gs2 <- as.undirected(induced.subgraph(g2, lc1[[1]]))
lc1 <- largest_cliques(g3)
gs3 <- as.undirected(induced.subgraph(g3, lc1[[1]]))
lc1 <- largest_cliques(g4)
gs4 <- as.undirected(induced.subgraph(g4, lc1[[1]]))
lc1 <- largest_cliques(g5)
gs5 <- as.undirected(induced.subgraph(g5, lc1[[1]]))
wednesday <- list(surv1 = gs1, surv2 = gs2, surv3 = gs3, surv4 = gs4, surv5 = gs5)
rm(g1);rm(g2);rm(g3);rm(g4);rm(g5);
rm(gs1);rm(gs2);rm(gs3);rm(gs4);rm(gs5)
#Thursday
g1 <- ALL$S17$thursday$graphs$g1
g2 <- ALL$S17$thursday$graphs$g2
g3 <- ALL$S17$thursday$graphs$g3
g4 <- ALL$S17$thursday$graphs$g4
g5 <- ALL$S17$thursday$graphs$g5
lc1 <- largest_cliques(g1)
gs1 <- as.undirected(induced.subgraph(g1, lc1[[1]]))
lc1 <- largest_cliques(g2)
gs2 <- as.undirected(induced.subgraph(g2, lc1[[1]]))
lc1 <- largest_cliques(g3)
gs3 <- as.undirected(induced.subgraph(g3, lc1[[1]]))
lc1 <- largest_cliques(g4)
gs4 <- as.undirected(induced.subgraph(g4, lc1[[1]]))
lc1 <- largest_cliques(g5)
gs5 <- as.undirected(induced.subgraph(g5, lc1[[1]]))
thursday <- list(surv1 = gs1, surv2 = gs2, surv3 = gs3, surv4 = gs4, surv5 = gs5)
rm(g1);rm(g2);rm(g3);rm(g4);rm(g5);
rm(gs1);rm(gs2);rm(gs3);rm(gs4);rm(gs5)
par(mfrow=c(5,4))
plot(monday$surv1, main =    "week 1 - Monday")
plot(tuesday$surv1, main =   "week 1 - Tuesday")
plot(wednesday$surv1, main = "week 1 - Wednesday")
plot(thursday$surv1, main =  "week 1 -Thursday")
#par(mfrow=c(4,1))
plot(monday$surv2, main =    "week 3 - Monday")
plot(tuesday$surv2, main =   "week 3 - Tuesday")
plot(wednesday$surv2, main = "week 3 - Wednesday")
plot(thursday$surv2, main =  "week 3 -Thursday")
#par(mfrow=c(4,1))
plot(monday$surv3, main =    "week 6 - Monday")
plot(tuesday$surv3, main =   "week 6 - Tuesday")
plot(wednesday$surv3, main = "week 6 - Wednesday")
plot(thursday$surv3, main =  "week 6 -Thursday")
#par(mfrow=c(4,1))
plot(monday$surv4, main =    "week 9 - Monday")
plot(tuesday$surv4, main =   "week 9 - Tuesday")
plot(wednesday$surv4, main = "week 9 - Wednesday")
plot(thursday$surv4, main =  "week 9 -Thursday")
#par(mfrow=c(4,1))
plot(monday$surv5, main =    "week 11 - Monday")
plot(tuesday$surv5, main =   "week 11 - Tuesday")
plot(wednesday$surv5, main = "week 11 - Wednesday")
plot(thursday$surv5, main =  "week 11 -Thursday")
S17 <- list(monday = monday, tuesday = tuesday, wednesday = wednesday, thursday = thursday)
rm(monday);rm(tuesday);rm(wednesday);rm(thursday)
rm(lc1)
cliques <- list(F15 = F15, S16 = S16, F16 = F16, S17 = S17)
rm(F15);rm(S16);rm(F16);rm(S17)
View(ALL)
rm(list = ls(all.names = TRUE))
#install.packages("CTT")
#install.packages("GGally")
#install.packages("ggplot2")
#install.packages("lattice")
#install.packages("gridExtra")
#install.packages("igraph")
#install.packages("dplyr")
#install.packages("tidyr")
#install.packages("igraph")
#install.packages("statnet")
library(CTT)
library(GGally)
library(ggplot2)
library(lattice)
library(gridExtra)
library(reshape)
library(igraph)
library(tidyverse)
setwd("T:/Research folders/CCWTG/Analyses/Data for Stats Dept/FINAL DATA")
#elmk <- read_csv("CC_edgelist.csv")
#saveRDS(elmk,"cc_edgelist.rds")
elmk <- readRDS("cc_edgelist.rds")
youth_att <- read_csv("Mentee_Attributes.csv")
staff_att <- read_csv("Staff_Attributes_Final.csv")
elmk <- elmk %>%
filter(Receiver_Missing == 0,
Sender_missing == 0,
Sender_Final_ID != Receiver_Final_ID) %>%
mutate(sn1 = ifelse((sn1 == 1 & sn2 == 0), NA, sn1), #marking NA for nominated, but weight = 0
sn2 = ifelse(is.na(sn1), NA, sn2)) %>%
select(-Receiver_Missing, -Sender_missing)
youth_att <- youth_att %>%
mutate(Final_ID = final_ID,
role1 = Role,
night1 = tolower(night),
night2 =NA,
role2 = NA,
mentee = NA
) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_att <- staff_att %>%
mutate(date_dropped = NA,
no_start = NA,
Final_ID = FInal_ID) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_youth_att <- rbind(staff_att, youth_att)
#Mentors that did NOT consent to survey research but DID consent to social Network (separate consent process).
sn_consent <- staff_youth_att %>%
filter(is.na(role1) | is.na(night1) & role1 != "mentee")
sn_consent <- as.vector(sn_consent$Final_ID)
#Set night & role of non-consent survey but consent Social Network.
staff_youth_att <- staff_youth_att %>%
mutate(
night1 = ifelse(Final_ID == sn_consent[1:3], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[1], "mentor",  role1))#,
#night1 = ifelse(Final_ID == sn_consent[2], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[2], "mentor",  role1),
#night1 = ifelse(Final_ID == sn_consent[3], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[3], "mentor",  role1)
#)
#Check sn_consent status again
#check <- staff_youth_att %>%
#  filter(is.na(role1) | is.na(night1) & role1 != "mentee")
staff_youth_att <- staff_youth_att %>%
#lowercase all
mutate(role1 = tolower(role1),
role2 = tolower(role2),
night1 = tolower(night1),
night2 = tolower(night2),
#Set role colors
role_col = ifelse(role1 == "mentee", "orange", NA),
role_col = ifelse(role1 == "mentor", "green", role_col),
role_col = ifelse(role1 == "mentor coach", "dodgerblue", role_col),
role_col = ifelse(role1 == "lead mentor coach", "red", role_col),
role_col = ifelse(role1 == "instructor", "grey50", role_col),
role_col2 = ifelse(role2 == "mentee", "orange", NA),
role_col2 = ifelse(role2 == "mentor", "green", role_col2),
role_col2 = ifelse(role2 == "mentor coach", "dodgerblue", role_col2),
role_col2 = ifelse(role2 == "lead mentor coach", "red", role_col2),
role_col2 = ifelse(role2 == "instructor", "grey50", role_col2)
)
rm(sn_consent)
View(staff_youth_att)
staff_youth_att %>%
filter(is.na(role1) | is.na(night1) & role1 != "mentee")
youth_att <- youth_att %>%
mutate(Final_ID = final_ID,
role1 = Role,
night1 = tolower(night),
night2 =NA,
role2 = NA,
mentee = NA
) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
rm(list = ls(all.names = TRUE))
#install.packages("CTT")
#install.packages("GGally")
#install.packages("ggplot2")
#install.packages("lattice")
#install.packages("gridExtra")
#install.packages("igraph")
#install.packages("dplyr")
#install.packages("tidyr")
#install.packages("igraph")
#install.packages("statnet")
library(CTT)
library(GGally)
library(ggplot2)
library(lattice)
library(gridExtra)
library(reshape)
library(igraph)
library(tidyverse)
setwd("T:/Research folders/CCWTG/Analyses/Data for Stats Dept/FINAL DATA")
#elmk <- read_csv("CC_edgelist.csv")
#saveRDS(elmk,"cc_edgelist.rds")
elmk <- readRDS("cc_edgelist.rds")
youth_att <- read_csv("Mentee_Attributes.csv")
staff_att <- read_csv("Staff_Attributes_Final.csv")
elmk <- elmk %>%
filter(Receiver_Missing == 0,
Sender_missing == 0,
Sender_Final_ID != Receiver_Final_ID) %>%
mutate(sn1 = ifelse((sn1 == 1 & sn2 == 0), NA, sn1), #marking NA for nominated, but weight = 0
sn2 = ifelse(is.na(sn1), NA, sn2)) %>%
select(-Receiver_Missing, -Sender_missing)
youth_att <- youth_att %>%
mutate(Final_ID = final_ID,
role1 = Role,
night1 = tolower(night),
night2 =NA,
role2 = NA,
mentee = NA
) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_att <- staff_att %>%
mutate(date_dropped = NA,
no_start = NA,
Final_ID = FInal_ID) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_youth_att <- rbind(staff_att, youth_att)
#Mentors that did NOT consent to survey research but DID consent to social Network (separate consent process).
sn_consent <- staff_youth_att %>%
filter(is.na(role1) | is.na(night1) & role1 != "mentee")
sn_consent <- as.vector(sn_consent$Final_ID)
#Set night & role of non-consent survey but consent Social Network.
staff_youth_att <- staff_youth_att %>%
mutate(
night1 = ifelse(Final_ID == sn_consent[1], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[1], "mentor",  role1),
night1 = ifelse(Final_ID == sn_consent[2], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[2], "mentor",  role1),
night1 = ifelse(Final_ID == sn_consent[3], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[3], "mentor",  role1)
)
#Check sn_consent status again
check <- staff_youth_att %>%
filter(is.na(role1) | is.na(night1) & role1 != "mentee")
staff_youth_att <- staff_youth_att %>%
#lowercase all
mutate(role1 = tolower(role1),
role2 = tolower(role2),
night1 = tolower(night1),
night2 = tolower(night2),
#Set role colors
role_col = ifelse(role1 == "mentee", "orange", NA),
role_col = ifelse(role1 == "mentor", "green", role_col),
role_col = ifelse(role1 == "mentor coach", "dodgerblue", role_col),
role_col = ifelse(role1 == "lead mentor coach", "red", role_col),
role_col = ifelse(role1 == "instructor", "grey50", role_col),
role_col2 = ifelse(role2 == "mentee", "orange", NA),
role_col2 = ifelse(role2 == "mentor", "green", role_col2),
role_col2 = ifelse(role2 == "mentor coach", "dodgerblue", role_col2),
role_col2 = ifelse(role2 == "lead mentor coach", "red", role_col2),
role_col2 = ifelse(role2 == "instructor", "grey50", role_col2)
)
rm(sn_consent)
staff_youth_att %>%
filter(is.na(role1) | is.na(night1) & role1 != "mentee")
rm(list = ls(all.names = TRUE))
#install.packages("CTT")
#install.packages("GGally")
#install.packages("ggplot2")
#install.packages("lattice")
#install.packages("gridExtra")
#install.packages("igraph")
#install.packages("dplyr")
#install.packages("tidyr")
#install.packages("igraph")
#install.packages("statnet")
library(CTT)
library(GGally)
library(ggplot2)
library(lattice)
library(gridExtra)
library(reshape)
library(igraph)
library(tidyverse)
setwd("T:/Research folders/CCWTG/Analyses/Data for Stats Dept/FINAL DATA")
#elmk <- read_csv("CC_edgelist.csv")
#saveRDS(elmk,"cc_edgelist.rds")
elmk <- readRDS("cc_edgelist.rds")
youth_att <- read_csv("Mentee_Attributes.csv")
staff_att <- read_csv("Staff_Attributes_Final.csv")
elmk <- elmk %>%
filter(Receiver_Missing == 0,
Sender_missing == 0,
Sender_Final_ID != Receiver_Final_ID) %>%
mutate(sn1 = ifelse((sn1 == 1 & sn2 == 0), NA, sn1), #marking NA for nominated, but weight = 0
sn2 = ifelse(is.na(sn1), NA, sn2)) %>%
select(-Receiver_Missing, -Sender_missing)
youth_att <- youth_att %>%
mutate(Final_ID = final_ID,
role1 = Role,
night1 = tolower(night),
night2 =NA,
role2 = NA,
mentee = NA
) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_att <- staff_att %>%
mutate(date_dropped = NA,
no_start = NA,
Final_ID = FInal_ID) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_youth_att <- rbind(staff_att, youth_att)
#Mentors that did NOT consent to survey research but DID consent to social Network (separate consent process).
sn_consent <- staff_youth_att %>%
filter(is.na(role1) | is.na(night1) & role1 != "mentee")
sn_consent <- as.vector(sn_consent$Final_ID)
#Set night & role of non-consent survey but consent Social Network.
staff_youth_att <- staff_youth_att %>%
mutate(
night1 = ifelse(Final_ID == sn_consent[1], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[1], "mentor",  role1),
night1 = ifelse(Final_ID == sn_consent[2], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[2], "mentor",  role1),
night1 = ifelse(Final_ID == sn_consent[3], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[3], "mentor",  role1)
)
#Check sn_consent status again - Should be 0 rows
#staff_youth_att %>%
#  filter(is.na(role1) | is.na(night1) & role1 != "mentee")
staff_youth_att <- staff_youth_att %>%
#lowercase all
mutate(role1 = tolower(role1),
role2 = tolower(role2),
night1 = tolower(night1),
night2 = tolower(night2),
#Set role colors
role_col = ifelse(role1 == "mentee", "orange", NA),
role_col = ifelse(role1 == "mentor", "green", role_col),
role_col = ifelse(role1 == "mentor coach", "dodgerblue", role_col),
role_col = ifelse(role1 == "lead mentor coach", "red", role_col),
role_col = ifelse(role1 == "instructor", "grey50", role_col),
role_col2 = ifelse(role2 == "mentee", "orange", NA),
role_col2 = ifelse(role2 == "mentor", "green", role_col2),
role_col2 = ifelse(role2 == "mentor coach", "dodgerblue", role_col2),
role_col2 = ifelse(role2 == "lead mentor coach", "red", role_col2),
role_col2 = ifelse(role2 == "instructor", "grey50", role_col2)
)
rm(sn_consent)
rm(list = ls(all.names = TRUE))
#install.packages("CTT")
#install.packages("GGally")
#install.packages("ggplot2")
#install.packages("lattice")
#install.packages("gridExtra")
#install.packages("igraph")
#install.packages("dplyr")
#install.packages("tidyr")
#install.packages("igraph")
#install.packages("statnet")
library(CTT)
library(GGally)
library(ggplot2)
library(lattice)
library(gridExtra)
library(reshape)
library(igraph)
library(tidyverse)
setwd("T:/Research folders/CCWTG/Analyses/Data for Stats Dept/FINAL DATA")
#elmk <- read_csv("CC_edgelist.csv")
#saveRDS(elmk,"cc_edgelist.rds")
elmk <- readRDS("cc_edgelist.rds")
youth_att <- read_csv("Mentee_Attributes.csv")
staff_att <- read_csv("Staff_Attributes_Final.csv")
elmk <- elmk %>%
filter(Receiver_Missing == 0,
Sender_missing == 0,
Sender_Final_ID != Receiver_Final_ID) %>%
mutate(sn1 = ifelse((sn1 == 1 & sn2 == 0), NA, sn1), #marking NA for nominated, but weight = 0
sn2 = ifelse(is.na(sn1), NA, sn2)) %>%
select(-Receiver_Missing, -Sender_missing)
youth_att <- youth_att %>%
mutate(Final_ID = final_ID,
role1 = Role,
night1 = tolower(night),
night2 =NA,
role2 = NA,
mentee = NA
) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_att <- staff_att %>%
mutate(date_dropped = NA,
no_start = NA,
Final_ID = FInal_ID) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_youth_att <- rbind(staff_att, youth_att)
#Mentors that did NOT consent to survey research but DID consent to social Network (separate consent process).
sn_consent <- staff_youth_att %>%
filter(is.na(role1) | is.na(night1) & role1 != "mentee")
sn_consent <- as.vector(sn_consent$Final_ID)
#Set night & role of non-consent survey but consent Social Network.
staff_youth_att <- staff_youth_att %>%
mutate(
night1 = ifelse(Final_ID == sn_consent[1]:sn_consent[3], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[1]:sn_consent[3], "mentor",  role1))
rm(list = ls(all.names = TRUE))
#install.packages("CTT")
#install.packages("GGally")
#install.packages("ggplot2")
#install.packages("lattice")
#install.packages("gridExtra")
#install.packages("igraph")
#install.packages("dplyr")
#install.packages("tidyr")
#install.packages("igraph")
#install.packages("statnet")
library(CTT)
library(GGally)
library(ggplot2)
library(lattice)
library(gridExtra)
library(reshape)
library(igraph)
library(tidyverse)
setwd("T:/Research folders/CCWTG/Analyses/Data for Stats Dept/FINAL DATA")
#elmk <- read_csv("CC_edgelist.csv")
#saveRDS(elmk,"cc_edgelist.rds")
elmk <- readRDS("cc_edgelist.rds")
youth_att <- read_csv("Mentee_Attributes.csv")
staff_att <- read_csv("Staff_Attributes_Final.csv")
elmk <- elmk %>%
filter(Receiver_Missing == 0,
Sender_missing == 0,
Sender_Final_ID != Receiver_Final_ID) %>%
mutate(sn1 = ifelse((sn1 == 1 & sn2 == 0), NA, sn1), #marking NA for nominated, but weight = 0
sn2 = ifelse(is.na(sn1), NA, sn2)) %>%
select(-Receiver_Missing, -Sender_missing)
youth_att <- youth_att %>%
mutate(Final_ID = final_ID,
role1 = Role,
night1 = tolower(night),
night2 =NA,
role2 = NA,
mentee = NA
) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_att <- staff_att %>%
mutate(date_dropped = NA,
no_start = NA,
Final_ID = FInal_ID) %>%
select(Final_ID, semester, night1, night2, mfcond, role1, role2, room, gender, mentee, impnotes, date_dropped, no_start)
staff_youth_att <- rbind(staff_att, youth_att)
#Mentors that did NOT consent to survey research but DID consent to social Network (separate consent process).
sn_consent <- staff_youth_att %>%
filter(is.na(role1) | is.na(night1) & role1 != "mentee")
sn_consent <- as.vector(sn_consent$Final_ID)
#Set night & role of non-consent survey but consent Social Network.
staff_youth_att <- staff_youth_att %>%
mutate(
night1 = ifelse(Final_ID == sn_consent[1], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[1], "mentor",  role1),
night1 = ifelse(Final_ID == sn_consent[2], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[2], "mentor",  role1),
night1 = ifelse(Final_ID == sn_consent[3], "tuesday", night1), role1  = ifelse(Final_ID == sn_consent[3], "mentor",  role1)
)
#Check sn_consent status again - Should be 0 rows
#staff_youth_att %>%
#  filter(is.na(role1) | is.na(night1) & role1 != "mentee")
staff_youth_att <- staff_youth_att %>%
#lowercase all
mutate(role1 = tolower(role1),
role2 = tolower(role2),
night1 = tolower(night1),
night2 = tolower(night2),
#Set role colors
role_col = ifelse(role1 == "mentee", "orange", NA),
role_col = ifelse(role1 == "mentor", "green", role_col),
role_col = ifelse(role1 == "mentor coach", "dodgerblue", role_col),
role_col = ifelse(role1 == "lead mentor coach", "red", role_col),
role_col = ifelse(role1 == "instructor", "grey50", role_col),
role_col2 = ifelse(role2 == "mentee", "orange", NA),
role_col2 = ifelse(role2 == "mentor", "green", role_col2),
role_col2 = ifelse(role2 == "mentor coach", "dodgerblue", role_col2),
role_col2 = ifelse(role2 == "lead mentor coach", "red", role_col2),
role_col2 = ifelse(role2 == "instructor", "grey50", role_col2)
)
rm(sn_consent)
View(elmk)
